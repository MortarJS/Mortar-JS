"use strict";var _=require("lodash"),React=require("react"),className=require("classnames"),FormUtility=require("./utils/FormUtilityMixin"),Checkbox=React.createClass({displayName:"Checkbox",propTypes:{fieldKey:React.PropTypes.string.isRequired,changeCallback:React.PropTypes.func,options:React.PropTypes.array.isRequired,labelAttribute:React.PropTypes.string,disabled:React.PropTypes.bool,comparisonAttr:React.PropTypes.array,overrideClass:React.PropTypes.string,inputLabel:React.PropTypes.string},mixins:[FormUtility],customHandleChange:function(e){var a=this._fieldValue()||[],t=this.props.options[e.target.dataset.index],s=this.props.comparisonAttr||null;if(e.target.checked)a.push(t);else{var r=[];a.forEach(function(e){s?t[s]!==e[s]&&r.push(e):_.isEqual(t,e)||r.push(e)}),a=r}this.props.changeCallback(this.props.fieldKey,a,this)},buildCheckboxes:function(){var e=this,a=this.props.overrideClass?" "+this.props.overrideClass:"",t=this.props.comparisonAttr||null,s=this.props.disabled||!1,r=this.props.labelAttribute||"label";return this.props.options.map(function(i,l){var c=!1,o=e._fieldValue();return o&&o.length&&o.forEach(function(e){t?i[t]===e[t]&&(c=!0):_.isEqual(i,e)&&(c=!0)}),React.createElement("div",{key:l,className:"mortar-checkbox checkbox "+e.props.formKey+"-"+e.props.fieldKey+" "+a},React.createElement("label",null,React.createElement("input",{type:"checkbox",name:i.name||"option"+l,"data-index":l,onChange:e.handleChange,value:i,checked:c,disabled:s}),React.createElement("span",{className:"checkbox-material"},React.createElement("span",{className:"check"})),React.createElement("span",{className:"mortar-checkbox-label"},i[r])))})},render:function(){var e=className({"form-group":!0,"has-error":this._checkFieldIsValid(),disabled:this.props.disabled||!1});return React.createElement("div",{className:e},React.createElement("label",{className:"control-label label-"+this.props.formKey+"-"+this.props.fieldKey},this.props.inputLabel),this.buildCheckboxes())}});module.exports=Checkbox;