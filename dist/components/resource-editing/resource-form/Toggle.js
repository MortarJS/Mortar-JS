"use strict";var React=require("react/addons"),className=require("classnames"),CharacterCount=require("./CharacterCount"),FormStore=require("../../../stores/FormStore"),FormUtility=require("./FormUtilityMixin"),FormKeyMixin=require("../../../mixins/FormKeyMixin"),Toggle=React.createClass({displayName:"Toggle",propTypes:{fieldKey:React.PropTypes.string.isRequired,fieldLabel:React.PropTypes.string,disabled:React.PropTypes.bool,mods:React.PropTypes.array,checked:React.PropTypes.bool},mixins:[FormUtility,FormKeyMixin],getInitialState:function(){return{isValid:!0,fieldValue:!1,id:""}},componentDidMount:function(){this.setState({id:this._generateFormKey()})},componentWillReceiveProps:function(e){this.setState({fieldValue:this._findValueByPath(e.bindResource,e.fieldKey)})},handleInput:function(e){this.props.changeCallback(this.props.fieldKey,e.target.checked,this),this.setState({fieldValue:e.target.checked})},render:function(){var e={"form-group":!0,"has-error":this._checkFieldIsValid(),"mortar-toggle":!0,disabled:this.props.disabled};return this.props.mods&&this.props.mods.forEach(function(t){e[t]=!0}),React.createElement("div",{className:className(e)},this.props.fieldLabel&&React.createElement("label",{className:"control-label"},this.props.fieldLabel),React.createElement("input",{id:this.state.id,type:"checkbox",onChange:this.handleInput,checked:this.props.checked||this.state.fieldValue,disabled:this.props.disabled}),React.createElement("label",{htmlFor:this.state.id}))}});module.exports=Toggle;