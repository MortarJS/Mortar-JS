"use strict";var _=require("lodash"),React=require("react"),className=require("classnames"),FormUtility=require("./utils/FormUtilityMixin"),RadioButton=React.createClass({displayName:"RadioButton",propTypes:{formKey:React.PropTypes.string,fieldKey:React.PropTypes.string.isRequired,label:React.PropTypes.string,valueKey:React.PropTypes.string,labelAttribute:React.PropTypes.string,helpText:React.PropTypes.string,options:React.PropTypes.array,disabled:React.PropTypes.bool,changeCallback:React.PropTypes.func},mixins:[FormUtility],getInitialState:function(){return{isValid:!0}},customHandleChange:function(e){var t=e.currentTarget.getAttribute("data-index"),a=this.props.options[t],s=this.props.valueKey||"value";this.props.changeCallback(this.props.fieldKey,a[s],this)},buildRadioButtons:function(){var e=this;return this.props.options.map(function(t,a){var s=e.props.valueKey?t[e.props.valueKey]:t.value;return React.createElement("div",{key:e.props.fieldKey+a,className:"radio radio-success"},React.createElement("label",null,React.createElement("input",{type:"radio",name:t.name||e.props.fieldKey+"-option-"+a,value:s,onChange:e.customHandleChange,"data-index":a,checked:_.isEqual(e._fieldValue(),s),disabled:e.props.disabled||!1}),React.createElement("span",{className:"circle"}),React.createElement("span",{className:"check"}),React.createElement("div",null,e.props.labelAttribute?t[e.props.labelAttribute]:t.label)))})},render:function(){var e={"form-group":!0,"has-error":this._checkFieldIsValid(),disabled:this.props.disabled||!1};e[this.props.formKey+"-"+this.props.fieldKey]=!0;var t=className(e);return React.createElement("div",{className:t},React.createElement("label",{className:"control-label"},this.props.label),this._shouldRenderHelpBlock(this.props.helpText),this.buildRadioButtons())}});module.exports=RadioButton;