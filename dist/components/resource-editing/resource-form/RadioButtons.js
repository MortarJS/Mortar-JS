"use strict";var React=require("react/addons"),className=require("classnames"),_=require("lodash"),FormStore=require("../../../stores/FormStore"),FormUtility=require("./FormUtilityMixin"),RadioButton=React.createClass({displayName:"RadioButton",propTypes:{fieldKey:React.PropTypes.string.isRequired,label:React.PropTypes.string,valueKey:React.PropTypes.string,labelAttribute:React.PropTypes.string,helpText:React.PropTypes.string,options:React.PropTypes.array,disabled:React.PropTypes.bool},mixins:[FormUtility],getInitialState:function(){return{isValid:!0,fieldValue:{}}},componentWillReceiveProps:function(e){this.setState({fieldValue:this._findValueByPath(e.bindResource,e.fieldKey)})},customHandleChange:function(e){var t=e.target.dataset.index,a=this.props.options[t],s=this.props.valueKey||"value";this.setState({fieldValue:a[s]},function(){this.props.changeCallback(this.props.fieldKey,this.state.fieldValue,this)})},buildRadioButtons:function(){this.state.fieldValue||{};return this.props.options.map(function(e,t){var a=this.props.valueKey?e[this.props.valueKey]:e.value;return React.createElement("div",{key:t,className:"radio radio-success"},React.createElement("label",null,React.createElement("input",{type:"radio",name:e.name||"option"+t,value:a,onChange:this.handleChange,"data-index":t,checked:_.isEqual(this.state.fieldValue,a),disabled:this.props.disabled||!1}),React.createElement("span",{className:"circle"}),React.createElement("span",{className:"check"}),React.createElement("div",null,this.props.labelAttribute?e[this.props.labelAttribute]:e.label)))}.bind(this))},render:function(){var e=className({"form-group":!0,"has-error":this._checkFieldIsValid(),disabled:this.props.disabled||!1});return React.createElement("div",{className:e},React.createElement("label",{className:"control-label"},this.props.label),this._shouldRenderHelpBlock(this.props.helpText),this.buildRadioButtons())}});module.exports=RadioButton;