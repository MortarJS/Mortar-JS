"use strict";var React=require("react/addons"),moment=require("moment"),InputTime=require("react-time-picker"),className=require("classnames"),FormUtility=require("./../FormUtilityMixin"),TimePicker=React.createClass({displayName:"TimePicker",mixins:[FormUtility],propTypes:{className:React.PropTypes.string,fieldKey:React.PropTypes.string.isRequired,label:React.PropTypes.string,onChange:React.PropTypes.func},getInitialState:function(){return{isValid:!0,fieldValue:null}},componentWillReceiveProps:function(e){this.setState({fieldValue:this._findValueByPath(e.bindResource,e.fieldKey)})},_customHandleChange:function(e){var t=moment(e,"hh:mm a").format("HH:mm");this.props.changeCallback(this.props.fieldKey,t,this)},render:function(){var e=this.props.format||"hh:mm a",t=this.props.step||1,s=this.props.hourStep||t,i=this.props.minuteStep||t,r=this.props.secondStep||t,a=this.props.useArrowKeys||!0,o=className({"form-group":!0,"has-error":this._checkFieldIsValid()});return React.createElement("div",{className:o},this.props.label&&React.createElement("label",{className:"control-label"},this.props.label),React.createElement(InputTime,{value:this.state.fieldValue,format:e,step:t,hourStep:s,minuteStep:i,secondStep:r,useArrowKeys:a,onChange:this._customHandleChange}))}});module.exports=TimePicker;